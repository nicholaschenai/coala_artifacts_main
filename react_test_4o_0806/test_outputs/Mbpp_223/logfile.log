INFO - [test iter]: 55/378

INFO - The task prompt is Write a Python function that satisfies the description below. Your code must strictly follow the function name and typings of the input and output specified in the assert statement below, and pass the assertion when executed.
"""
Write a function that takes in a sorted array, its length (n), and ...

INFO - Attempting task_id Mbpp/223
INFO - [35m Rollout attempt 1/4[0m
INFO - LM call n parse attempt 1 / 3

INFO - [Task id] Mbpp/223 [prompt] 
You are an expert programmer tasked with solving the problem below.

Follow the user's instructions to solve the problem.
The user can ask for analysis, code, or both.

## Instructions
When asked to output code,
- Make sure to wrap your code in '```python' and '```' Markdown delimiters, 
- include exactly one block of code with the entire solution
- No outside libraries are allowed. 
- Builtins are allowed.
- If the task specifies a function name to be used, follow it strictly (be case sensitive!) and declare the that function last (helper functions are declared first).
- DO NOT write any assert statements / tests.

## Problem
[BEGIN PROBLEM]
Write a Python function that satisfies the description below. Your code must strictly follow the function name and typings of the input and output specified in the assert statement below, and pass the assertion when executed.
"""
Write a function that takes in a sorted array, its length (n), and an element and returns whether the element is the majority element in the given sorted array. (The majority element is the element that occurs more than n/2 times.)
assert is_majority([1, 2, 3, 3, 3, 3, 10], 7, 3) == True
"""

[END PROBLEM]

INFO - [Task id] Mbpp/223 [prompt] 
## Instructions

Reason through the problem and:
1. Restate the problem in plain English
2. Conceptualize a solution first in plain English
3. Write a pseudocode solution
4. Output the final Python 3 solution with your solution steps in comments.

Make sure to wrap your code in '```python' and '```' Markdown delimiters, 
and include exactly one block of code with the entire solution.

No outside libraries are allowed.
Builtins are allowed.

INFO - [Task id] Mbpp/223 [generation text] 
## Problem Restatement

We need to determine if a given element is the majority element in a sorted array. The majority element is defined as an element that appears more than half the time in the array. The function should return `True` if the element is the majority element, and `False` otherwise.

## Conceptual Solution

1. **Identify the Majority Element Condition**: For an element to be the majority, it must appear more than `n/2` times in the array, where `n` is the length of the array.

2. **Utilize the Sorted Property**: Since the array is sorted, if an element is the majority, it will appear consecutively in the array. This allows us to efficiently check for the majority element.

3. **Binary Search for First Occurrence**: Use binary search to find the first occurrence of the element in the array.

4. **Check the Count**: Once the first occurrence is found, check if the element appears more than `n/2` times by comparing the index of the first occurrence and the index `first_occurrence + n/2`.

## Pseudocode

1. Define a helper function `binary_search_first_occurrence` to find the first occurrence of the element using binary search.
2. In the main function `is_majority`, use the helper function to find the first occurrence of the element.
3. If the element is not found, return `False`.
4. Check if the element at the index `first_occurrence + n/2` is the same as the element.
5. Return `True` if it is the same, otherwise return `False`.

## Final Python Solution

```python
def binary_search_first_occurrence(arr, n, element):
    left, right = 0, n - 1
    result = -1
    while left <= right:
        mid = (left + right) // 2
        if arr[mid] == element:
            result = mid
            right = mid - 1  # Continue searching in the left half
        elif arr[mid] < element:
            left = mid + 1
        else:
            right = mid - 1
    return result

def is_majority(arr, n, element):
    # Find the first occurrence of the element
    first_occurrence = binary_search_first_occurrence(arr, n, element)
    
    # If the element is not found, it cannot be the majority
    if first_occurrence == -1:
        return False
    
    # Check if the element appears more than n/2 times
    if first_occurrence + n // 2 < n and arr[first_occurrence + n // 2] == element:
        return True
    else:
        return False
```

This solution efficiently checks if the given element is the majority element by leveraging the sorted property of the array and using binary search to find the first occurrence of the element.
INFO - program_code:
 
def binary_search_first_occurrence(arr, n, element):
    left, right = 0, n - 1
    result = -1
    while left <= right:
        mid = (left + right) // 2
        if arr[mid] == element:
            result = mid
            right = mid - 1  # Continue searching in the left half
        elif arr[mid] < element:
            left = mid + 1
        else:
            right = mid - 1
    return result

def is_majority(arr, n, element):
    # Find the first occurrence of the element
    first_occurrence = binary_search_first_occurrence(arr, n, element)
    
    # If the element is not found, it cannot be the majority
    if first_occurrence == -1:
        return False
    
    # Check if the element appears more than n/2 times
    if first_occurrence + n // 2 < n and arr[first_occurrence + n // 2] == element:
        return True
    else:
        return False


INFO - program_name:
 is_majority

INFO - dependencies:
 []

INFO - raw_msg:
 
## Problem Restatement

We need to determine if a given element is the majority element in a sorted array. The majority element is defined as an element that appears more than half the time in the array. The function should return `True` if the element is the majority element, and `False` otherwise.

## Conceptual Solution

1. **Identify the Majority Element Condition**: For an element to be the majority, it must appear more than `n/2` times in the array, where `n` is the length of the array.

2. **Utilize the Sorted Property**: Since the array is sorted, if an element is the majority, it will appear consecutively in the array. This allows us to efficiently check for the majority element.

3. **Binary Search for First Occurrence**: Use binary search to find the first occurrence of the element in the array.

4. **Check the Count**: Once the first occurrence is found, check if the element appears more than `n/2` times by comparing the index of the first occurrence and the index `first_occurrence + n/2`.

## Pseudocode

1. Define a helper function `binary_search_first_occurrence` to find the first occurrence of the element using binary search.
2. In the main function `is_majority`, use the helper function to find the first occurrence of the element.
3. If the element is not found, return `False`.
4. Check if the element at the index `first_occurrence + n/2` is the same as the element.
5. Return `True` if it is the same, otherwise return `False`.

## Final Python Solution

```python
def binary_search_first_occurrence(arr, n, element):
    left, right = 0, n - 1
    result = -1
    while left <= right:
        mid = (left + right) // 2
        if arr[mid] == element:
            result = mid
            right = mid - 1  # Continue searching in the left half
        elif arr[mid] < element:
            left = mid + 1
        else:
            right = mid - 1
    return result

def is_majority(arr, n, element):
    # Find the first occurrence of the element
    first_occurrence = binary_search_first_occurrence(arr, n, element)
    
    # If the element is not found, it cannot be the majority
    if first_occurrence == -1:
        return False
    
    # Check if the element appears more than n/2 times
    if first_occurrence + n // 2 < n and arr[first_occurrence + n // 2] == element:
        return True
    else:
        return False
```

This solution efficiently checks if the given element is the majority element by leveraging the sorted property of the array and using binary search to find the first occurrence of the element.

INFO - no_parent:
 True

INFO - full code to be executed: 
 
def binary_search_first_occurrence(arr, n, element):
    left, right = 0, n - 1
    result = -1
    while left <= right:
        mid = (left + right) // 2
        if arr[mid] == element:
            result = mid
            right = mid - 1  # Continue searching in the left half
        elif arr[mid] < element:
            left = mid + 1
        else:
            right = mid - 1
    return result

def is_majority(arr, n, element):
    # Find the first occurrence of the element
    first_occurrence = binary_search_first_occurrence(arr, n, element)
    
    # If the element is not found, it cannot be the majority
    if first_occurrence == -1:
        return False
    
    # Check if the element appears more than n/2 times
    if first_occurrence + n // 2 < n and arr[first_occurrence + n // 2] == element:
        return True
    else:
        return False


INFO - obs: Note: Tests are automatically generated and can be wrong.

Tests passed:
assert is_majority([1, 2, 3, 3, 3, 3, 10], 7, 3) == True

Tests failed:
None
reward: True
done: None
info: {'individual_results': (True,)}
INFO - acc:54/55 = 98.18%
